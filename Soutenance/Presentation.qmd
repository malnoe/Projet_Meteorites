---
title: "Étude de la chute des météorites sur Terre"
author: "Yannis Petit, Rassem Djimadoum, Duc-Khoi Nguyen & Garance Malnoë encadré.e.s par Jean-François Coeurjolly"
format: revealjs
fontsize: 20pt
---

# Introduction
## Présentation du projet
:::: {.columns}

::: {.column width="60%"}

_Meteorite Landings_ : 
jeu de données issu de l'Open Data de la **NASA**.
:::

::: {.column width="40%"}
<img src="images/nasa_logo.png" alt=" " style="width: 40%; margin-right: 120px; float: right;">
:::

::::

<div style="margin-top: 30px;">
Pas d'objectif défini : **exploration libre** des données pour choisir nos axes d'étude du jeu de données. Mais quelques idées initialement données par Jean-François Coeurjolly :

- Etude de la **dimension temporelle** des données.

- Analyse des **relations entre les variables** du jeu de données.

- Construire un **modèle prédictif** du nombre de météorites tombées dans un pays en fonction de sa superficie et de sa localisation géographique.

- Réaliser une **étude spatiale** pour déterminer si certaines régions sont plus touchées.

- **Visualiser** les chutes de météorites sur un planisphère.
</div>

## Organisation, outils et bibliothèques
Khoi

# Exploration des données
## Présentation des variables
Yannis

## Nametype et Fall
Aucune donnée manquante pour ces deux variables

::: {.column width="50%"}
**Nametype** : 

Valid -> 99,8%

Relict -> 0,02%

-> Quasiment toutes les météorites du jeu de données sont bien valides (on sait que ce sont des météorites).
:::

::: {.column width="50%"}
**Fall** :

Found -> 97,5% du jeu de données.

Fell -> 2,5% du jeu de données.

-> Quasiment toutes les météorites du jeu de données sont trouvées au sol.

:::

## Name
Aucune donnée manquante.

::: {.column width="60%"}

```{r}
#| echo: false
#| fig-height: 5
#| fig-width: 7
library(corrr)
library(xtable)
library(ggplot2)
library(dplyr)

Meteorite_Landings <- read.csv("C:/Users/garan/Documents/Ecole/M1/Projet/Projet_Meteorites/Données/Meteorite_Landings.csv")

# Name - Première lettre
Meteorite_Landings <- Meteorite_Landings %>%
  mutate(first_letter = substr(name, 1, 1))
# Compter le nombre d'occurrences de chaque première lettre et trier par ordre décroissant
letter_counts <- Meteorite_Landings %>%
  group_by(first_letter) %>%
  summarise(count = n()) %>%
  arrange(desc(count))  # Trier par ordre décroissant
# Créer l'histogramme
ggplot(letter_counts, aes(x = reorder(first_letter, -count), y = count)) +
  geom_bar(stat = "identity") +
  labs(title = "Histogramme des premières lettres des noms de météorites",
       x = "Première lettre",
       y = "Nombre de météorites") +
  theme_minimal()
```

:::

::: {.column width="40%"}
- a
- a
- a

:::


## Recclass
Aucune donnée manquante.

::: {.column width="60%"}

```{r}
#| echo: false
#| fig-height: 5
#| fig-width: 7
#Recclass
# Calcul pourcentage en ne gardant que ceux > 4%
recclass_counts <- Meteorite_Landings %>%
  group_by(recclass) %>%
  summarise(count = n()) %>%
  mutate(percentage = count / sum(count) * 100)
# Regrouper les classes qui représentent moins de 4 % dans "Autres"
recclass_counts <- recclass_counts %>%
  mutate(recclass = ifelse(percentage < 4, "Autres", recclass)) %>%
  group_by(recclass) %>%
  summarise(count = sum(count), percentage = sum(percentage))
# Trier par pourcentage
recclass_counts <- recclass_counts %>%
  arrange(percentage)
# Pie chart
ggplot(recclass_counts, aes(x = "", y = percentage, fill = recclass)) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar("y") +
  labs(title = "Répartition des classes de recclass",
       fill = "Classe") +
  theme_void() +  # Utiliser un thème vide pour un pie chart
  geom_text(aes(label = paste0(round(percentage, 1), "%")), 
            position = position_stack(vjust = 0.5),
            size=3,
            color="white")
```

:::

::: {.column width="40%"}

- a
- a
- a

:::

## Mass
131 données manquantes soit 0,3% du jeu de données. Très grande hétéorogénéité des valeurs :
<figure>
    <img src="images/exploration/boitemoustache_mass.png" alt="" style="width: 80%;  float: center;">
    <figcaption>Distribution de la variable Mass</figcaption>
</figure>


## Year
291 données manquantes et une donnée aberrante. Très grande hétérogénéité des valeurs :
<figure>
    <img src="images/exploration/boitemoustache_year.png" alt="" style="width: 70%; float: center;">
    <figcaption>Distribution de l'année de la chute des météorites</figcaption>
</figure>

::: {.column width="65%"}

```{r}
#| echo: false
#| fig-align: center
#| fig-height: 3.8
#| fig-width: 6.5

# Year
# Filtrer les données pour ne garder que les années > 1963 et < 2026
filtered_data <- Meteorite_Landings %>%
  filter(year > 1963 & year <2026)
# Compter le nombre d'occurrences de chaque année
year_counts <- filtered_data %>%
  group_by(year) %>%
  summarise(count = n())
# Créer le barplot
ggplot(year_counts, aes(x = year, y = count)) +
  geom_bar(stat = "identity") +
  labs(title = "Nombre de météorites tombées chaque année (après 1963)",
       x = "Année",
       y = "Nombre de météorites") +
  theme_minimal()
```

:::

::: {.column width="35%"}
- a
- a
- a

:::

## Location
7315 données manquantes où la latitude, la longitude et la variable geolocation sont absentes en mêmes temps, environ 16% du jeu de données. 

Visualisation sur le planisphère :

::: {.column width="50%"}

```{r}
#| echo: false
#| fig-height: 5
#| fig-width: 7

library(rnaturalearth)
library(sf)

# Charger les contours des pays (projection WGS84 par défaut)
world <- ne_countries(scale = "medium", returnclass = "sf")

# Charger les données de météorites (exemple : colonnes reclat, reclong)
df <- read.csv("C:/Users/garan/Documents/Ecole/M1/Projet/Projet_Meteorites/Données/Meteorite_Landings.csv", stringsAsFactors = FALSE) |>
  na.omit() |>  # Supprimer les NA
  dplyr::select(reclat, reclong)  # Sélectionner les colonnes pertinentes

ggplot() +
  geom_sf(data = world, fill = "lightgray", color = "black", linewidth = 0.1) +
  geom_point(data = df, aes(x = reclong, y = reclat), 
             color = "red", alpha = 0.3, size = 0.5) +
  labs(title = "Emplacement des données") +
  theme_minimal()
```

:::

::: {.column width="35%"}
- commentaire
- commentaire

:::

## Latitude
```{r}
#| echo: false
#| fig-height: 3
#| fig-width: 5
#| fig-align: center

# Latitude
# Arrondir les valeurs de reclat au degré le plus proche et compter les occurrences
latitude_counts <- Meteorite_Landings %>%
  mutate(rounded_lat = round(reclat)) %>%  # Arrondir au degré le plus proche
  group_by(rounded_lat) %>%
  summarise(count = n())
# Barplot
ggplot(latitude_counts, aes(x = rounded_lat, y = count)) +
  geom_bar(stat = "identity") +
  labs(title = "Météorites tombées par degré de latitude",
       x = "Latitude (degré arrondi à l'unité)",
       y = "Nombre de météorites") +
  theme_minimal()
```

::: {.column width="50%"}
- commentaire

:::

::: {.column width="50%"}
- commentaire

:::

## Longitude
```{r}
#| echo: false
#| fig-height: 3
#| fig-width: 5
#| fig-align: center

# Longitude
# Arrondir les valeurs de reclat au degré le plus proche et compter les occurrences
longitude_counts <- Meteorite_Landings %>%
  filter(reclong >= -180 & reclong <= 180)
longitude_counts <- longitude_counts %>%
  mutate(rounded_long = round(reclong)) %>%  # Arrondir au degré le plus proche
  group_by(rounded_long) %>%
  summarise(count = n())
# Barplot
ggplot(longitude_counts, aes(x = rounded_long, y = count)) +
  geom_bar(stat = "identity") +
  labs(title = "Météorites tombées par degré de longitude",
       x = "Longitude (degré arrondi à l'unité)",
       y = "Nombre de météorites") +
  theme_minimal()
```

::: {.column width="50%"}
- commentaire

:::

::: {.column width="50%"}
- commentaire

:::

## Répartition selon les pays

::: {.column width="50%"}

<figure>
    <img src="images/exploration/map_points_countries_avec_echelle.png" alt="" style="width: 100%; float: center;" >
    <figcaption>Nombre de météorites par pays</figcaption>
  </figure>


:::

::: {.column width="50%"}
  <figure>
    <img src="images/exploration/map_points_km2_avec_echelle.png" alt="" style="width: 100%; float: center;">
    <figcaption>Nombre de météorites par km² par pays</figcaption>
  </figure>


:::


<div style="margin-top: 30px;">
Explication
</div>

## Multivarié
- Qualitative-qualitative : Test de $\chi^2$.
Résultats : 
- Quantitative-quantitative : Coefficient de Pearson.
Résultats :
- Quantitative-qualitative : Test de Shapiro-Wilk pour la normalité. Tous sont très significatif donc tests de Kruskal-Wallis ou Mann-Withney pour être robuste face à l'absence de l'hypothèse de normalité.
Résultats :

Pas très intéressant, skipper ?

## Discussion des limites du jeu de données

- **Peu de données manquantes** mais sur des **variables importantes** (masse, année et localisation). Finalement, 38 115 observations (83% des données), a priori suffisant pour nos analyses.

- Mise en évidence de biais : 
  - **Biais temporel** : ...
  - **Biais géographique** :  ...

**Le jeu de données est en réalité très incomplet**. Et nous manquons d'information pour éviter ces biais pour faire nos analyses.

## Choix des pistes à poursuivre

**Pistes initialement envisagées mises de côté** :

- L'analyse temporelle : pas assez de précision temporelle et seulement 40 années exploitables. Nous avons étudié un autre jeu de données (Natural History Museum) plus précis mais également trop incomplet.

- La modélisation prédictive du nombre de météorites tombées par pays : biais de rescencement rendant l'analyse peu pertinente.

**Pistes choisies pour le reste de l'étude** :

- Analyse du processus derrière la chute des météorites : processus de Poisson (in)homogènes ?

- Visualisation en 3D pour se détacher des distortions causées par la projection sur un planisphère.

# Modélisation de processus ponctuels
## Objectifs

Rassem

## Théorie homogène

Rassem

## Simulations

Rassem

## Théorie inhomogène

Rassem

## Simulations

Rassem

# Visualisation en 3D

## Pourquoi une visualisation en 3D ?

Khoi

## Python

Khoi

## R

Yannis
<iframe src="http://127.0.0.1:6827" width="110%" height="600px"></iframe>

# Impact environnemental

## Impact environnemental personnel

??

## Impact global du projet

??

## Politique de la structure d'acceuil

??

# Conclusion

Gary 