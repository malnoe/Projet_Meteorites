---
title: "Étude de la chute des météorites sur Terre"
author: "Yannis Petit, Rassem Djimadoum, Duc-Khoi Nguyen & Garance Malnoë encadré.e.s par Jean-François Coeurjolly"
format: 
  revealjs :
    toc: true
    slide-number: true
    toc-depth: 1
    number-section: true

fontsize: 19pt
---

# Introduction
## Présentation du projet
:::: {.columns}

::: {.column width="60%"}

_Meteorite Landings_ : 
jeu de données issu de l'Open Data de la **NASA**.
:::

::: {.column width="40%"}
<img src="images/nasa_logo.png" alt=" " style="width: 40%; margin-right: 120px; float: right;">
:::

::::

<div style="margin-top: 30px;">
Pas d'objectif défini : **exploration libre** des données pour choisir nos axes d'étude du jeu de données. Mais quelques idées initialement données par Jean-François Coeurjolly :

- Etude de la **dimension temporelle** des données.

- Analyse des **relations entre les variables** du jeu de données.

- Construire un **modèle prédictif** du nombre de météorites tombées dans un pays en fonction de sa superficie et de sa localisation géographique.

- Réaliser une **étude spatiale** pour déterminer si certaines régions sont plus touchées.

- **Visualiser** les chutes de météorites sur un planisphère.
</div>

## Organisation, outils et bibliothèques
Khoi

# Exploration des données
## Présentation des variables
Yannis

## Masse de la météorite (variable mass)

131 données manquantes soit 0,3% du jeu de données. 

**Très grande hétéorogénéité** des valeurs :

<figure>
    <img src="images/exploration/boitemoustache_mass.png" alt="" style="width: 90%; float: center; margin-left:70px">
</figure>

<div style="margin-top: 30px;">

- Majorité de petites météorites.

- Quelques météorites très volumineuses.

- Biais de recensement en faveur des météorites les plus grosses.
</div>


## Année de la chute de la météorite (variable year)

291 données manquantes et une donnée aberrante. **Très grande hétérogénéité** des valeurs :

::: {.column width="50%" }

<figure>
    <img src="images/exploration/boitemoustache_year.png" alt="" style="width: 100%; margin-left:1px; float: left;">
</figure>

::: 

::: {.column width="50%"}
- Large majorité des données date des 50 dernières années
- Dernière valeur en 2013 : jeu de données non mis à jour.

:::

::: {.column width="50%" style="margin-top: 10px;"}

```{r}
#| echo: false
#| fig-align: left
#| fig-height: 3.8
#| fig-width: 6.2

library(corrr)
library(xtable)
library(ggplot2)
library(dplyr)

Meteorite_Landings <- read.csv("~/Ecole/M1/Projet/Projet_Meteorites/Données/Meteorite_Landings.csv")

# Year
# Filtrer les données pour ne garder que les années > 1963 et < 2026
filtered_data <- Meteorite_Landings %>%
  filter(year > 1963 & year <2026)
# Compter le nombre d'occurrences de chaque année
year_counts <- filtered_data %>%
  group_by(year) %>%
  summarise(count = n())
# Créer le barplot
ggplot(year_counts, aes(x = year, y = count)) +
  geom_bar(stat = "identity") +
  labs(title = "Nombre de météorites tombées chaque année (après 1963)",
       x = "Année",
       y = "Nombre de météorites") +
  theme_minimal()
```

:::
::: {.column width="50%" style="margin-top: 10px;"}
- **Augmentation des recensements à partir de 1974** :
  - Réseaux de surveillance.
  - Centralisation des données.
  - Mise en place de mission de recherche sur la chute des météorites.

:::


## Emplacement de la chute de la météorite (variables reclat, relong et geolocation)
7315 données manquantes où la latitude, la longitude et la variable geolocation sont absentes en mêmes temps, environ 16% du jeu de données. 

Visualisation sur le planisphère :

::: {.column width="50%"}

```{r}
#| echo: false
#| fig-height: 5
#| fig-width: 7

library(rnaturalearth)
library(sf)

# Charger les contours des pays (projection WGS84 par défaut)
world <- ne_countries(scale = "medium", returnclass = "sf")

# Charger les données de météorites (exemple : colonnes reclat, reclong)
df <- read.csv("C:/Users/garan/Documents/Ecole/M1/Projet/Projet_Meteorites/Données/Meteorite_Landings.csv", stringsAsFactors = FALSE) |>
  na.omit() |>  # Supprimer les NA
  dplyr::select(reclat, reclong)  # Sélectionner les colonnes pertinentes

ggplot() +
  geom_sf(data = world, fill = "lightgray", color = "black", linewidth = 0.1) +
  geom_point(data = df, aes(x = reclong, y = reclat), 
             color = "red", alpha = 0.3, size = 0.5) +
  labs(title = "Emplacement des données") +
  theme_minimal()
```

:::

::: {.column width="50%"}
<div style="margin-top: 10px;">

- Seulement les terres émmergées.
- Quelques régions concentrent beaucoup de points : Etats-Unis, Europe de l'Ouest, Nord-Ouest de l'Affrique, Sud de l'Australie, Antarctique.
- Quelques régions avec très peu de météorites recensées : Nord du Canada, forêt amazonienne, Nord de la Russie.

</div>

:::
$\rightarrow$ **Biais géographique** en faveur des régions les plus densément peuplées. Exectption de l'Antarctique expliquée par les expéditions réalisées pour la recherche sur les chûtes de météorites.


## Latitude
```{r}
#| echo: false
#| fig-height: 2
#| fig-width: 4
#| fig-align: center

# Latitude
# Arrondir les valeurs de reclat au degré le plus proche et compter les occurrences
latitude_counts <- Meteorite_Landings %>%
  mutate(rounded_lat = round(reclat)) %>%  # Arrondir au degré le plus proche
  group_by(rounded_lat) %>%
  summarise(count = n())
# Barplot
ggplot(latitude_counts, aes(x = rounded_lat, y = count)) +
  geom_bar(stat = "identity") +
  labs(title = "Météorites tombées par degré de latitude",
       x = "Latitude (degré arrondi à l'unité)",
       y = "Nombre de météorites") +
  theme_minimal() +
  theme(
    plot.title = element_text(size = 10),  # Réduire la hauteur du titre
    axis.title = element_text(size = 8)    # Réduire la hauteur des axes
  )
```


::: {.columns}
::: {.column width="60%" align="left"}
**Latitudes des régions avec beaucoup de points** :

 - -90 à -70° (Australie du Sud et Antarctique) 

 - 15° à 60° (Amérique du Nord et Europe).
:::

::: {.column width="40%" align="right"}
**Pic en 0** : Données faussement renseignées en (0,0) en cas d'absence des coordonnées exactes (plusieurs milliers de données).
:::
:::


## Longitude
```{r}
#| echo: false
#| fig-height: 2
#| fig-width: 4
#| fig-align: center

# Longitude
# Arrondir les valeurs de reclat au degré le plus proche et compter les occurrences
longitude_counts <- Meteorite_Landings %>%
  filter(reclong >= -180 & reclong <= 180)
longitude_counts <- longitude_counts %>%
  mutate(rounded_long = round(reclong)) %>%  # Arrondir au degré le plus proche
  group_by(rounded_long) %>%
  summarise(count = n())
# Barplot
ggplot(longitude_counts, aes(x = rounded_long, y = count)) +
  geom_bar(stat = "identity") +
  labs(title = "Météorites tombées par degré de longitude",
       x = "Longitude (degré arrondi à l'unité)",
       y = "Nombre de météorites") +
  theme_minimal() +
  theme(
    plot.title = element_text(size = 10),  # Réduire la hauteur du titre
    axis.title = element_text(size = 8)    # Réduire la hauteur des axes
  )
```

- **Autour de -100°** : Amérique du Nord.
- **150° à 165°** : Australie et Est de l'Antarctique
- **Pic fort en 0** : Données faussement renseignées mais également données provenant de l'Europe et de l'Afrique de l'Ouest.

## Discussion des limites du jeu de données

- **Peu de données manquantes** mais sur des **variables importantes** (masse, année et localisation). Finalement, 38 115 observations (83% des données), a priori suffisant pour nos analyses.

- Mise en évidence de biais : 
  - **Biais temporel** : sureprésentation des météorites les plus récentes, seulement 40 années exploitables.
  - **Biais géographique** : plus de recensements dans les zones densément peuplées et données faussement référencées en (0,0).
  - **Biais en faveur des plus grosses météorites** : plus faciles à identifier que les petites météorites qui sont aisément confondues avec des roches terrestres.

**Le jeu de données est en réalité très incomplet**. Et nous manquons d'information pour éviter ces biais pour faire nos analyses.

## Choix des pistes à poursuivre

$\underline{\textbf{Pistes initialement envisagées mises de côté}}$ :

- **L'analyse temporelle** : pas assez de précision temporelle et seulement 40 années exploitables. Nous avons étudié un autre jeu de données (Natural History Museum) plus précis mais également trop incomplet.

- **La modélisation prédictive** du nombre de météorites tombées par pays : le biais géographique rend l'analyse peu pertinente.

$\underline{\textbf{Pistes choisies pour le reste de l'étude}}$ :

- **Modélisation du processus de la chute des météorites** : processus de Poisson homogènes et inhomogènes.

- **Visualisation en 3D** pour se détacher des distortions causées par la projection sur un planisphère.

# Modélisation de processus ponctuels
## Objectifs

Rassem

## Théorie homogène

Rassem

## Simulations

Rassem

## Théorie inhomogène

Rassem

## Simulations

Rassem

# Visualisation en 3D

## Pourquoi une visualisation en 3D ?

Khoi

## Python

Khoi

## R

<iframe src="http://127.0.0.1:5133" width="100%" height="800px" ></iframe>


# Conclusion

Gary 

Impact environnemental + ouvertures possibles + limites
